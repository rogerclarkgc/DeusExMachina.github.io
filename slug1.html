<!DOCTYPE html>
<html lang="ch">

<head>
            <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">


        <title>在Window环境下用pelican搭建博客</title>

        <!-- Bootstrap Core CSS -->
        <link href="/theme/css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="/theme/css/clean-blog.min.css" rel="stylesheet">

        <!-- Code highlight color scheme -->
            <link href="/theme/css/code_blocks/darkly.css" rel="stylesheet">


        <!-- Custom Fonts -->
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->



        <meta name="description" content="我在Windows下用pelican搭建了博客">

        <meta name="author" content="rogerclarkgc">

        <meta name="tags" content="pelican">
        <meta name="tags" content="publishing">

	                <meta property="og:locale" content="">
		<meta property="og:site_name" content="DeusExMachina">

	<meta property="og:type" content="article">
            <meta property="article:author" content="/author/rogerclarkgc.html">
	<meta property="og:url" content="/slug1.html">
	<meta property="og:title" content="在Window环境下用pelican搭建博客">
	<meta property="article:published_time" content="2016-07-28 10:20:00+08:00">
            <meta property="og:description" content="我在Windows下用pelican搭建了博客">

            <meta property="og:image" content="/images/posts/build my blog/build_my_blog.jpg">
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">DeusExMachina</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">

                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
        <header class="intro-header" style="background-image: url('images/posts/build my blog/build_my_blog.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>在Window环境下用pelican搭建博客</h1>
                        <span class="meta">Posted by
                                <a href="/author/rogerclarkgc.html">rogerclarkgc</a>
                             on 周四 28 七月 2016
                        </span>
                        
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
    <!-- Post Content -->
    <article>
        <h1>在Window环境下用pelican搭建博客</h1>
<p>自从不用人人网以来，一直没有一个自己的博客，最近看了<a href="https://github.com/wolfsonliu">wolfsonliu</a>的gihub个人页面，发现居然是使用一种python编写叫'Pelican'的框架搭建的，看起来十分不错，也很便利，刚好自己是python萌新,于是顿时手痒了，觉得自己一定能搭建出来一个'Powerd by Pelican'的博客。</p>
<p>由于Pelican默认在unix类的操作系统下运行，找了找教程，基本上都不是在Windows下搭建的，于是自己琢磨了几天，也劳烦了wolfsonliu不少，总算磕磕碰碰的把博客框架搭建出来，写这篇博客算是个经验的总结</p>
<h3>首先需要准备这些：</h3>
<ul>
<li>Python 2.7.X安装包 - Pelican运行环境</li>
<li>Pelican包 - 搭建博客的框架</li>
<li>Markdown包 - 解释编写的MD文件</li>
<li>Git for Windows - 用于管理自己的博客文件和推送到github</li>
<li>Make for Windows - 用于在cmd终端里使用make命令，Windows下没有这个</li>
<li>Markdownpad2 - 用于编写你的blog文章</li>
</ul>
<hr>
<h3>然后是准备Pelican运行环境：</h3>
<ul>
<li>安装Python: Python的安装包很容易在Python的<a href="https://www.python.org/downloads/">官方网站</a>下载安装，不过我发现Python
3.5似乎和Pelican兼容不好，会导致无法生成HTML文件，因此不推荐使用。这里使用的是Python
2.7.11版本，在安装时一定要勾选安装pip和添加目录到系统变量PATH中以便后续使用。在安装完毕后，进入cmd终端，在命令行里输入<code>python -V</code>， 如果安装配置正确，则会出现当前PATH下的python版本，我显示的版本是<code>Python 2.7.11</code>。</li>
<li>安装Pelican包和Markdown包：前面安装了pip, pip是用于安装Python第三方包的脚本，有了它安装包十分方便，只需要在命令行里输入<code>pip install packagename</code>就可以了，这里要安装Pelican和Markdown,就输入<code>pip install pelican</code>， <code>pip install markdown</code>。pip会自动下载配置这两个包，十分简单。</li>
<li>安装git for Windows:由于博客文件最终还是要推送到服务器上的，而github免费提供个人域名，因此安装一个推送和管理软件很重要。git for Windows能在github的<a href="https://github.com/waylau/git-for-win">相关页面</a>找到下载。</li>
<li>安装Make for Windows：Make是unix下常用的一个程序，可以按照一定规则构建文件，Pelican十分省心的编制了Makefile文件，能够直接使用make命令完成生成HTML页面、构建测试服务器、发布文章等常用博客维护功能，但是在一般的Windows环境里不集成Make,因此需要另外下载，安装文件可以在<a href="http://gnuwin32.sourceforge.net/packages/make.htm">这里</a>
找到。安装完成后，一定要在PATH里配置make.exe所在的路径，要不然在cmd终端还是无法使用make。</li>
<li>安装Markdownpad2: Markdown是一种简单的文本标记语法，用于在快速编写文章的同时排版文章段落格式，达到‘所想即所见’的效果，这篇文章就是用Markdown语法排版而成。Windows下常用的Markdown编辑器是Markdownpad2，能够即时预览文章，很方便。它可以在<a href="http://markdownpad.com/">官方网站</a>找到下载。</li>
</ul>
<hr>
<h3>运行环境终于准备妥当，可以开始搭建博客了：</h3>
<ul>
<li>首先需要再github上注册账号，并按照<a href="https://pages.github.com/">指导</a>创建一个自己的仓库，这个仓库的名字是username.github.io，是以后博客的域名。</li>
<li>在cmd终端里输入命令：<code>pelican-quickstart</code>,按照提示回答一系列问题，回答完毕后pelican就会告诉你已经完成了博客框架搭建了。
<img alt="pelicanstart" src="http://i.imgur.com/CqSsYiM.jpg"></li>
</ul>
<p>在搭建完毕后，pelican会自动在指定的目录下面生成如下组织的文件夹:</p>
<p><img alt="tree" src="http://i.imgur.com/J9G3Yap.jpg"></p>
<p>其中<code>content</code>文件夹用来放置博客的内容，如文章和图片等，<code>output</code>则是输出html和css文件的地方。其他几个文件中，<code>publishconf.py</code>和<code>pelicanconf.py</code>是博客的设置文件，<code>Makefile</code>是pelican预先帮助你编写好的make规则文件，<code>fabfile.py</code>也是一种fab规则文件，不过既然有了make就没什么用了。最后<code>develop_server.sh</code>似乎是用来开启测试服务器的配置文件，我基本没有动过这个东西。</p>
<ul>
<li>
<p>pelican支持套用别人做好的博客主题模板，对我这种对html和css一窍不通的人是最好不过了，在<a href="http://www.pelicanthemes.com/">这里</a>可以找到pelican的主题演示，找到合适的后进入相关的github页面，复制链接地址，进入git bash终端clone到本地，使用如下命令：<code>git clone https://github.com/gilsondev/pelican-clean-blog.git</code>来完成。</p>
</li>
<li>
<p>在clone到本地后可以在<code>pelicanconf.py</code>添加如下一行：<code>THEME = 'PATH'</code>就可以用上刚刚的下载的主题了。我由于是在Windows下，所以文件地址由左斜杠要改成右斜杠，就变成了这个样子<code>THEME = 'D:/git-R/blog/pelican-clean-blog'</code>。又看了看这个主题github页面的说明，嘿，居然支持自己定制封面和文章背景，于是赶紧再<code>pelicanconf.py</code>中加上这两行：
<code>STATIC_PATHS = ['static', 'images']</code>, <code>HEADER_COVER = 'static/homepage.jpg'</code>。这样以后就能轻松的在<code>content</code>文件夹里直接换文章和主页背景图片了。</p>
</li>
</ul>
<hr>
<h3>博客的框架有了大概，下面就可以写博客了：</h3>
<ul>
<li>用Markdownpad2来写博文，可以看看这篇<a href="http://www.jianshu.com/p/1e402922ee32/">教程</a>来掌握Markdown的语法，十分简单便捷</li>
<li>pelican要求md文件必须按照一定格式填写filemeta，得按照如下格式来写</li>
</ul>
<blockquote>
<p>Title: 在Window环境下用pelican搭建博客</p>
<p>Date: 2016-7-28 10:20</p>
<p>Category: self</p>
<p>Tags: pelican, publishing</p>
<p>Slug: slug1</p>
<p>Author: rogerclarkgc</p>
<p>Summary: 我在Windows下用pelican搭建了博客</p>
</blockquote>
<ul>
<li>写好的md文件放在<code>content</code>文件夹中，也可以建立<code>pages</code>和<code>posts</code>文件夹，把md文件放到这里面。<code>pages</code>里的文件会当做独立的页面处理，<code>posts</code>会当成一般的博文，所以可以在<code>pages</code>里放上自我介绍之类的玩意。</li>
</ul>
<hr>
<h3>是时候发布自己的博客了！</h3>
<ul>
<li>由于有了make，发布博客命令变得十分简单，首先进入博客的主目录，在主目录下运行<code>make html</code>，就会有自动生成的html和css文件到output目录中。</li>
<li>希望预览一下博客，那是最好的，同样的输入<code>make serve</code>就可开启本地服务8000端口，在<code>localhost:8000</code>中就可以看到实际的效果。</li>
<li>几番修改，终于可以推送到github上了，打开git bash终端，进入<code>output</code>目录，输入如下几条命令：<div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">init</span>
<span class="n">git</span> <span class="k">add</span> <span class="o">*</span>
<span class="n">git</span> <span class="k">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s1">&#39;made blog&#39;</span>
<span class="n">git</span> <span class="n">remote</span> <span class="k">add</span> <span class="n">origin</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">username</span><span class="o">/</span><span class="n">username</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">git</span>
<span class="n">git</span> <span class="n">push</span> <span class="o">-</span><span class="n">u</span> <span class="n">origin</span> <span class="n">master</span>
</pre></div>


</li>
</ul>
<p>这样就可以推送到github上的服务器，终于有自己博客了，折腾下来还有点麻烦，光是THEME的设置就花了我一天时间去研究，看官方文档，总算没白费心思！</p>
    </article>

        <div class="tags">
            <p>tags: <a href="/tag/pelican.html">pelican</a>, <a href="/tag/publishing.html">publishing</a></p>
        </div>

<hr>
<div class="sharing">
</div>
    <hr>

            </div>
        </div>
    </div>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                            <li>
                                <a href="https://github.com/rogerclarkgc">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="http://weibo.com/3090511091/profile?rightmod=1&wvr=6&mod=personinfo&is_all=1">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                    </ul>
<p class="copyright text-muted">
    Blog powered by <a href="http://getpelican.com">Pelican</a>,
    which takes great advantage of <a href="http://python.org">Python</a>.
</p>                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="/theme/js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/theme/js/bootstrap.min.js"></script>

        <!-- Custom Theme JavaScript -->
        <script src="/theme/js/clean-blog.min.js"></script>

<script type="text/javascript">
    var disqus_shortname = 'rogerclarkgc';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
	<!-- mathjax config similar to math.stackexchange -->
	<script type="text/x-mathjax-config">
	MathJax.Hub.Config({
		jax: ["input/TeX", "output/HTML-CSS"],
		tex2jax: {
			inlineMath: [ ['$', '$)'] ],
			displayMath: [ ['$$', '$$']],
			processEscapes: true,
			skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
		},
		messageStyle: "none",
		"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
	});
	</script>
	<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

</body>

</html>